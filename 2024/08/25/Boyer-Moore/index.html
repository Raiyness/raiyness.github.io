

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/pageicon.png">
  <link rel="icon" href="/img/pageicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Ray">
  <meta name="keywords" content="">
  
    <meta name="description" content="[!info] Metadata domain::relevant::  What is Boyer-Moore String-search AlgorithmIn computer science, the Boyerâ€“Moore string-search algorithm is an efficient string-searching algorithm that is the sta">
<meta property="og:type" content="article">
<meta property="og:title" content="Ray">
<meta property="og:url" content="http://raiyness.github.io/2024/08/25/Boyer-Moore/index.html">
<meta property="og:site_name" content="Ray">
<meta property="og:description" content="[!info] Metadata domain::relevant::  What is Boyer-Moore String-search AlgorithmIn computer science, the Boyerâ€“Moore string-search algorithm is an efficient string-searching algorithm that is the sta">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-08-25T05:31:39.219Z">
<meta property="article:modified_time" content="2024-08-18T01:09:00.000Z">
<meta property="article:author" content="Ray">
<meta property="article:tag" content="ğŸ“ï¸&#x2F;ğŸ”‹">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>Ray</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="//at.alicdn.com/t/c/font_4069213_9ogikooit2k.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@500&display=swap.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"raiyness.github.io","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":false,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"Dh35MABGuR1d71PvYwz3LGP9-MdYXbMMI","app_key":"huDa0CUM6rHPhM3JDvvgBHkP","server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong><em>Ray</em></strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>ä¸»é¡µ</span>
              </a>
            </li> 
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/books/">
                <i class="iconfont icon-book"></i>
                <span>ä¹¦ç±</span>
              </a>
            </li> 
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li> 
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-shandian-copy"></i>
                <span>ç´¢å¼•</span>
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/archives/">
                    <i class="iconfont icon-archive-fill"></i>
                    <span>å½’æ¡£</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/categories/">
                    <i class="iconfont icon-category-fill"></i>
                    <span>ç›®å½•</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/tags/">
                    <i class="iconfont icon-tags-fill"></i>
                    <span>æ ‡ç­¾</span>
                  </a>
                
              </div>
            </li>
          
        
        <li class="nav-item" id="change-btn">
          <a class="nav-link" target="_self">
            <i class="iconfont icon-a-zhongyingwenqiehuanyingwen"></i>
            <!-- <span>English</span> -->
          </a>
        </li>
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/homepage.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.4)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text=""></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-08-25 15:31" pubdate>
          2024å¹´8æœˆ25æ—¥ ä¸‹åˆ
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          7.5k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          32 åˆ†é’Ÿ
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none"></h1>
            
              <p class="note note-info">
                
                  
                    æœ¬æ–‡æœ€åæ›´æ–°äºï¼š2024å¹´8æœˆ18æ—¥ ä¸Šåˆ
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <blockquote>
<p>[!info] Metadata</p>
<p>domain::<br>relevant::</p>
</blockquote>
<h2 id="What-is-Boyer-Moore-String-search-Algorithm"><a href="#What-is-Boyer-Moore-String-search-Algorithm" class="headerlink" title="What is Boyer-Moore String-search Algorithm"></a>What is Boyer-Moore String-search Algorithm</h2><p>In computer science, the Boyerâ€“Moore string-search algorithm is an efficient string-searching algorithm that is the standard benchmark for practical string-search literature.<br>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒBoyer-Moore å­—ç¬¦ä¸²æœç´¢ç®—æ³•æ˜¯ä¸€ç§é«˜æ•ˆçš„å­—ç¬¦ä¸²æœç´¢ç®—æ³•ï¼Œå®ƒæ˜¯å®é™…å­—ç¬¦ä¸²æœç´¢æ–‡çŒ®çš„æ ‡å‡†åŸºå‡†ã€‚</p>
<p>The algorithm preprocesses the string being searched for (the pattern), but not the string being searched in (the text). It is thus <strong>well-suited for applications in which the pattern is much shorter than the text or where it persists across multiple searches</strong>.<br>ç®—æ³•å¯¹è¢«æœç´¢çš„å­—ç¬¦ä¸²ï¼ˆæ¨¡å¼ï¼‰è¿›è¡Œé¢„å¤„ç†ï¼Œä½†ä¸å¯¹è¢«æœç´¢çš„å­—ç¬¦ä¸²ï¼ˆæ–‡æœ¬ï¼‰è¿›è¡Œé¢„å¤„ç†ã€‚å› æ­¤ï¼Œå®ƒéå¸¸é€‚ç”¨äº<strong>æ¨¡å¼æ¯”æ–‡æœ¬è¦çŸ­å¾—å¤šæˆ–åœ¨å¤šæ¬¡æœç´¢ä¸­ä¿æŒä¸å˜</strong>çš„åº”ç”¨åœºæ™¯ã€‚</p>
<h2 id="Definitions"><a href="#Definitions" class="headerlink" title="Definitions"></a>Definitions</h2><ul>
<li><code>T</code> denotes the input text to be searched. Its length is <code>n</code>.</li>
<li><code>P</code> denotes the string to be searched for, called the pattern. Its length is <code>m</code>.</li>
<li><code>S[i]</code> denotes the character at index i of string <code>S</code>, counting from 1.</li>
<li><code>S[i..j]</code> denotes the substring of string S starting at index <code>i</code> and ending at <code>j</code>, inclusive.</li>
<li>A prefix of <code>S</code> is a substring <code>S[1..i]</code> for some <code>i</code> in range <code>[1, l]</code>, where <code>l</code> is the length of <code>S</code>.</li>
<li>A suffix of <code>S</code> is a substring <code>S[i..l]</code> for some <code>i</code> in range <code>[1, l]</code>, where <code>l</code> is the length of <code>S</code>.</li>
<li>An alignment of <code>P</code> to <code>T</code> is an index <code>k</code> in <code>T</code> such that the last character of <code>P</code> is aligned with index <code>k</code> of <code>T</code>.</li>
<li>A match or occurrence of <code>P</code> occurs at an alignment <code>k</code> if <code>P</code> is equivalent to <code>T[(k-m+1)..k]</code>.</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">T</span><span class="hljs-params">(text)</span></span>: HERE IS A SIMPLE EXAMPLE<br><span class="hljs-function"><span class="hljs-title">P</span><span class="hljs-params">(pattern)</span></span>: EXAMPLE<br></code></pre></td></tr></table></figure>

<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>The Boyerâ€“Moore algorithm searches for occurrences of $P$ in $T$ by performing explicit character comparisons at different alignments. Instead of a brute-force search of all alignments (of which there are $n-m+1$), Boyerâ€“Moore uses information gained by preprocessing $P$ to skip as many alignments as possible.<br>Boyer-Moore ç®—æ³•é€šè¿‡åœ¨ä¸åŒçš„å¯¹é½ä½ç½®æ‰§è¡Œæ˜¾å¼å­—ç¬¦æ¯”è¾ƒæ¥æœç´¢ $T$ ä¸­ $P$ çš„å‡ºç°ã€‚è€Œä¸æ˜¯å¯¹æ‰€æœ‰å¯èƒ½çš„å¯¹é½ä½ç½®è¿›è¡Œè›®åŠ›æœç´¢ï¼ˆæ€»å…±æœ‰ $n-m+1$ ä¸ªï¼‰ï¼ŒBoyer-Moore åˆ©ç”¨é¢„å¤„ç† $P$ æ‰€å¾—åˆ°çš„ä¿¡æ¯ï¼Œå°½å¯èƒ½åœ°è·³è¿‡å¤šä½™çš„å¯¹é½ä½ç½®ã€‚</p>
<p>The key insight in this algorithm is that if the end of the pattern is compared to the text, then jumps along the text can be made rather than checking every character of the text. The reason that this works is that in lining up the pattern against the text, the last character of the pattern is compared to the character in the text. If the characters do not match, there is no need to continue searching backwards along the text. If the character in the text does not match any of the characters in the pattern, then the next character in the text to check is locatedÂ mÂ characters farther along the text, whereÂ mÂ is the length of the pattern. If the character in the textÂ <em>is</em>Â in the pattern, then a partial shift of the pattern along the text is done to line up along the matching character and the process is repeated. Jumping along the text to make comparisons rather than checking every character in the text decreases the number of comparisons that have to be made, which is the key to the efficiency of the algorithm.<br>è¯¥ç®—æ³•çš„å…³é”®æ´å¯Ÿæ˜¯ï¼Œå¦‚æœå°†æ¨¡å¼çš„æœ«å°¾ä¸æ–‡æœ¬è¿›è¡Œæ¯”è¾ƒï¼Œé‚£ä¹ˆå¯ä»¥è·³è¿‡æ–‡æœ¬ä¸­çš„ä¸€äº›å­—ç¬¦è€Œä¸å¿…æ£€æŸ¥æ¯ä¸ªå­—ç¬¦ã€‚è¿™æ ·åšçš„åŸå› æ˜¯ï¼Œåœ¨å°†æ¨¡å¼ä¸æ–‡æœ¬å¯¹é½æ—¶ï¼Œä¼šå°†æ¨¡å¼çš„æœ€åä¸€ä¸ªå­—ç¬¦ä¸æ–‡æœ¬ä¸­çš„å­—ç¬¦è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœå­—ç¬¦ä¸åŒ¹é…ï¼Œåˆ™æ— éœ€ç»§ç»­å‘åæœç´¢æ–‡æœ¬ã€‚å¦‚æœæ–‡æœ¬ä¸­çš„å­—ç¬¦ä¸æ¨¡å¼ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦éƒ½ä¸åŒ¹é…ï¼Œåˆ™éœ€è¦åœ¨æ–‡æœ¬ä¸Šå†å‘å‰ç§»åŠ¨ m ä¸ªä½ç½®æ¥æ£€æŸ¥ä¸‹ä¸€ä¸ªè¦æ¯”è¾ƒçš„å­—ç¬¦ï¼Œå…¶ä¸­ m æ˜¯æ¨¡å¼é•¿åº¦ã€‚å¦‚æœæ–‡æœ¬ä¸­çš„å­—ç¬¦åœ¨æ¨¡å¼ä¸­å­˜åœ¨ï¼Œåˆ™ä¼šå¯¹æ¨¡å¼è¿›è¡Œéƒ¨åˆ†ç§»ä½ä»¥ä½¿å…¶ä¸åŒ¹é…åˆ°çš„å­—ç¬¦å¯¹é½ï¼Œå¹¶é‡å¤æ­¤è¿‡ç¨‹ã€‚é€šè¿‡è·³è¿‡ä¸€äº›æ–‡å­—æ¥è¿›è¡Œæ¯”è¾ƒè€Œä¸æ˜¯æ£€æŸ¥æ¯ä¸ªæ–‡å­—ï¼Œå‡å°‘äº†å¿…é¡»æ‰§è¡Œçš„æ¯”è¾ƒæ¬¡æ•°ï¼Œè¿™å°±æ˜¯è¯¥ç®—æ³•é«˜æ•ˆæ€§èƒ½èƒŒåå…³é”®æ‰€åœ¨ã€‚</p>
<p>More formally, the algorithm begins at alignmentÂ $k&#x3D;m$, so the start ofÂ $P$Â is aligned with the start ofÂ $T$. Characters inÂ $P$Â andÂ $T$Â are then compared starting at indexÂ $m$Â inÂ $P$Â andÂ $k$Â inÂ $T$, moving backward. The strings are matched from the end ofÂ $P$Â to the start ofÂ $P$. The comparisons continue until either the beginning ofÂ $P$Â is reached (which means there is a match) or a mismatch occurs upon which the alignment is shifted forward (to the right) according to the maximum value permitted by a number of rules. The comparisons are performed again at the new alignment, and the process repeats until the alignment is shifted past the end ofÂ $T$, which means no further matches will be found.<br>æ›´æ­£å¼åœ°è¯´ï¼Œç®—æ³•ä»å¯¹é½ $k&#x3D;m$ å¼€å§‹ï¼Œå› æ­¤ $P$ çš„å¼€å¤´ä¸ $T$ çš„å¼€å¤´å¯¹é½ã€‚ç„¶åä» $P$ ä¸­çš„ç´¢å¼• $m$ å’Œ $T$ ä¸­çš„ç´¢å¼• $k$ å¼€å§‹å‘åæ¯”è¾ƒå­—ç¬¦ã€‚å­—ç¬¦ä¸²ä» $P$ çš„æœ«å°¾åˆ° $P$ çš„å¼€å¤´è¿›è¡ŒåŒ¹é…ã€‚æ¯”è¾ƒå°†ç»§ç»­ï¼Œç›´åˆ°è¾¾åˆ° $P$ çš„å¼€å¤´ï¼ˆè¡¨ç¤ºæœ‰åŒ¹é…ï¼‰æˆ–å‘ç”Ÿä¸åŒ¹é…ä¸ºæ­¢ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ ¹æ®ä¸€äº›è§„åˆ™å…è®¸çš„æœ€å¤§å€¼å‘å‰ï¼ˆå‘å³ï¼‰ç§»åŠ¨å¯¹é½ã€‚åœ¨æ–°ä½ç½®å†æ¬¡æ‰§è¡Œæ¯”è¾ƒï¼Œå¹¶é‡å¤è¯¥è¿‡ç¨‹ï¼Œç›´åˆ°å¯¹é½è¶…å‡ºäº† $T$ çš„æœ«å°¾ï¼Œè¿™æ„å‘³ç€ä¸ä¼šæ‰¾åˆ°è¿›ä¸€æ­¥çš„åŒ¹é…ã€‚</p>
<p>The shift rules are implemented as constant-time table lookups, using tables generated during the preprocessing ofÂ $P$.<br>å®æ–½ç§»ä½è§„åˆ™æ—¶ï¼Œä½¿ç”¨åœ¨é¢„å¤„ç† $P$ æœŸé—´ç”Ÿæˆçš„å¸¸æ•°æ—¶é—´è¡¨æŸ¥æ‰¾ã€‚</p>
<h2 id="Shift-Rules"><a href="#Shift-Rules" class="headerlink" title="Shift Rules"></a>Shift Rules</h2><p>A shift is calculated by applying two rules: the <strong>bad-character rule</strong> and the <strong>good-suffix rule</strong>. The actual shifting offset is the <em>maximum</em> of the shifts calculated by these rules.<br>é€šè¿‡åº”ç”¨ä¸¤ä¸ªè§„åˆ™æ¥è®¡ç®—ç§»åŠ¨åç§»é‡ï¼š<strong>åå­—ç¬¦è§„åˆ™</strong>å’Œ<strong>å¥½åç¼€è§„åˆ™</strong>ã€‚å®é™…çš„ç§»åŠ¨åç§»é‡æ˜¯ç”±è¿™äº›è§„åˆ™è®¡ç®—å‡ºçš„æœ€å¤§å€¼ã€‚</p>
<h3 id="The-Bad-character-Rule"><a href="#The-Bad-character-Rule" class="headerlink" title="The Bad-character Rule"></a>The Bad-character Rule</h3><h4 id="Description-1"><a href="#Description-1" class="headerlink" title="Description"></a>Description</h4><p>The bad-character rule considers the character inÂ $T$Â at which the comparison process failed (assuming such a failure occurred).<br>åå­—ç¬¦è§„åˆ™è€ƒè™‘äº†åœ¨æ¯”è¾ƒè¿‡ç¨‹ä¸­å¤±è´¥çš„ T ä¸­çš„å­—ç¬¦ï¼ˆå‡è®¾å‘ç”Ÿäº†è¿™æ ·çš„å¤±è´¥ï¼‰ã€‚</p>
<ul>
<li>The next occurrence of that character to the left inÂ $P$Â is found, and a shift which brings that occurrence in line with the mismatched occurrence inÂ $T$Â is proposed.<br>æ‰¾åˆ° P ä¸­è¯¥å­—ç¬¦å·¦ä¾§çš„ä¸‹ä¸€ä¸ªå‡ºç°ä½ç½®ï¼Œå¹¶æå‡ºä¸€ç§ç§»åŠ¨ï¼Œä½¿å¾—è¯¥ä½ç½®ä¸ T ä¸­ä¸åŒ¹é…çš„ä½ç½®å¯¹é½ã€‚</li>
<li>If the mismatched character does not occur to the left inÂ $P$, a shift is proposed that moves the entirety ofÂ $P$Â past the point of mismatch.<br>å¦‚æœä¸åŒ¹é…çš„å­—ç¬¦åœ¨ P ä¸­ä¸å­˜åœ¨å·¦ä¾§ï¼Œåˆ™æè®®è¿›è¡Œæ•´ä½“ç§»åŠ¨ï¼Œå°† P å®Œå…¨ç§»åˆ°ä¸åŒ¹é…ç‚¹ä¹‹åã€‚</li>
</ul>
<h4 id="Preprocessing"><a href="#Preprocessing" class="headerlink" title="Preprocessing"></a>Preprocessing</h4><p>Methods vary on the exact form the table for the bad-character rule should take, but a simple constant-time lookup solution is as follows: create a 2D table which is indexed first by the index of the characterÂ $c$Â in the alphabet and second by the indexÂ $i$Â in the pattern. This lookup will return the occurrence ofÂ $c$Â inÂ $P$Â with the next-highest index $j&lt;i$â Â or $-1$ if there is no such occurrence. The proposed shift will then beÂ â $i-j$â , withÂ â $O(1)$â Â lookup time andÂ â $O(km)$ space, assuming a finite alphabet of lengthÂ $k$.<br>åœ¨åå­—ç¬¦è§„åˆ™ä¸­ï¼Œè¡¨æ ¼çš„å…·ä½“å½¢å¼å¯èƒ½æœ‰æ‰€ä¸åŒï¼Œä½†ä¸€ä¸ªç®€å•çš„å¸¸æ•°æ—¶é—´æŸ¥æ‰¾è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼šåˆ›å»ºä¸€ä¸ªäºŒç»´è¡¨æ ¼ï¼Œé¦–å…ˆæŒ‰å­—æ¯è¡¨ä¸­å­—ç¬¦ $c$ çš„ç´¢å¼•è¿›è¡Œç´¢å¼•ï¼Œç„¶åæŒ‰æ¨¡å¼ä¸­ç´¢å¼• $i$ è¿›è¡Œç¬¬äºŒæ¬¡ç´¢å¼•ã€‚è¿™ä¸ªæŸ¥æ‰¾å°†è¿”å› $P$ ä¸­å­—ç¬¦ $c$ åœ¨ä¸‹ä¸€ä¸ªæœ€é«˜ç´¢å¼• $j&lt;i$â å¤„çš„å‡ºç°ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰è¿™æ ·çš„å‡ºç°ï¼Œåˆ™è¿”å› -1ã€‚æè®®çš„ç§»åŠ¨é‡å°†æ˜¯â $i-j$â ï¼Œå…·æœ‰â  $O(1)$ â æŸ¥æ‰¾æ—¶é—´å’Œ â  $O(km)$ ç©ºé—´å¤æ‚åº¦ï¼ˆå‡è®¾å­—æ¯è¡¨é•¿åº¦ä¸º $k$ï¼‰ã€‚</p>
<h3 id="The-Good-suffix-Rule"><a href="#The-Good-suffix-Rule" class="headerlink" title="The Good-suffix Rule"></a>The Good-suffix Rule</h3><h4 id="Description-2"><a href="#Description-2" class="headerlink" title="Description"></a>Description</h4><p>The good-suffix rule is markedly more complex in both concept and implementation than the bad-character rule. Like the bad-character rule, it also exploits the algorithmâ€™s feature of comparisons beginning at the end of the pattern and proceeding towards the patternâ€™s start. It can be described as follows:<br>å¥½åç¼€è§„åˆ™åœ¨æ¦‚å¿µå’Œå®ç°ä¸Šæ¯”åå­—ç¬¦è§„åˆ™æ›´åŠ å¤æ‚ã€‚ä¸åå­—ç¬¦è§„åˆ™ç±»ä¼¼ï¼Œå®ƒä¹Ÿåˆ©ç”¨äº†ç®—æ³•ä»æ¨¡å¼çš„æœ«å°¾å¼€å§‹æ¯”è¾ƒå¹¶å‘æ¨¡å¼çš„èµ·å§‹ä½ç½®å‰è¿›çš„ç‰¹ç‚¹ã€‚å¯ä»¥æè¿°ä¸ºï¼š</p>
<p>Suppose for a given alignment ofÂ $P$Â andÂ $T$, a substringÂ $t$ ofÂ $T$Â matches a suffix ofÂ $P$Â and supposeÂ $t$Â is the largest such substring for the given alignment.<br>å‡è®¾å¯¹äºç»™å®šçš„ $P$ å’Œ $T$ çš„å¯¹é½ï¼Œå­—ç¬¦ä¸² $t$ æ˜¯ $T$ çš„ä¸€ä¸ªå­ä¸²ï¼Œä¸ $P$ çš„åç¼€åŒ¹é…ï¼Œå¹¶ä¸”å‡è®¾åœ¨ç»™å®šçš„å¯¹é½ä¸­ï¼Œ $t$ æ˜¯æœ€å¤§çš„è¿™æ ·å­ä¸²ã€‚</p>
<ol>
<li>Then find, if it exists, the right-most copyÂ $tâ€™$Â ofÂ $t$ inÂ $P$Â such thatÂ $t$Â is not a suffix ofÂ $P$Â and the character to the left ofÂ $tâ€™$Â inÂ $P$Â differs from the character to the left ofÂ $tâ€™$Â inÂ $P$. ShiftÂ $P$Â to the right so that substringÂ $tâ€™$Â inÂ $P$Â aligns with substringÂ $t$Â inÂ $T$.<br>ç„¶åï¼Œåœ¨ $P$ ä¸­æ‰¾åˆ°ï¼Œå¦‚æœå­˜åœ¨çš„è¯ï¼Œæœ€å³è¾¹çš„ $t$ çš„å‰¯æœ¬ $tâ€™$ï¼Œä½¿å¾— $t$ ä¸æ˜¯ $P$ çš„åç¼€ï¼Œå¹¶ä¸”åœ¨ $P$ ä¸­ä¸ $tâ€™$ å·¦è¾¹çš„å­—ç¬¦ä¸åŒã€‚å°†å­—ç¬¦ä¸² $tâ€™$ åœ¨ $P$ ä¸­å‘å³ç§»åŠ¨ï¼Œä½¿å…¶ä¸å­—ç¬¦ä¸² $t$ åœ¨ $T$ ä¸­å¯¹é½ã€‚</li>
<li>IfÂ $tâ€™$Â does not exist, then shift the left end ofÂ $P$Â to the right by the least amount (past the left end ofÂ $t$Â inÂ $T$) so that a prefix of the shifted pattern matches a suffix ofÂ $t$Â inÂ $T$. This includes cases whereÂ $t$Â is an exact match ofÂ $P$.<br>å¦‚æœ $tâ€™$ ä¸å­˜åœ¨ï¼Œåˆ™å°† $P$ çš„å·¦ç«¯å‘å³ç§»åŠ¨æœ€å°‘çš„é‡ï¼ˆè¶…è¿‡ $T$ ä¸­ $t$ çš„å·¦ç«¯ï¼‰ä»¥ä½¿å¾—ç§»åŠ¨åçš„æ¨¡å¼å‰ç¼€ä¸ $T$ ä¸­ $t$ çš„åç¼€åŒ¹é…ã€‚è¿™åŒ…æ‹¬äº† $t$ ä¸ $P$ å®Œå…¨åŒ¹é…çš„æƒ…å†µã€‚</li>
<li>If no such shift is possible, then shiftÂ $P$Â byÂ $m$Â (length of $P$) places to the right.<br>å¦‚æœæ²¡æœ‰è¿™æ ·çš„ç§»ä½å¯èƒ½ï¼Œåˆ™å°† $P$ å‘å³ç§»åŠ¨ $m$ï¼ˆ$P$ çš„é•¿åº¦ï¼‰ä¸ªä½ç½®ã€‚</li>
</ol>
<h4 id="Preprocessing-1"><a href="#Preprocessing-1" class="headerlink" title="Preprocessing"></a>Preprocessing</h4><p>The good-suffix rule requires two tables: one for use in the general case (where a copy $t^{\prime}$ is found), and another for use when the general case returns no meaningful result. These tables will be designated $L$ and $H$ respectively. Their definitions are as follows:<br>å¥½åç¼€è§„åˆ™éœ€è¦ä¸¤ä¸ªè¡¨æ ¼ï¼šä¸€ä¸ªç”¨äºä¸€èˆ¬æƒ…å†µï¼ˆå½“æ‰¾åˆ°å‰¯æœ¬ $t^{\prime}$ æ—¶ï¼‰ï¼Œå¦ä¸€ä¸ªç”¨äºä¸€èˆ¬æƒ…å†µè¿”å›æ— æ„ä¹‰ç»“æœæ—¶ä½¿ç”¨ã€‚è¿™äº›è¡¨å°†åˆ†åˆ«è¢«æŒ‡å®šä¸º $L$ å’Œ $H$ã€‚å®ƒä»¬çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>For each $i, L[i]$ is the largest position less than $m$ such that string $P[i . . m]$ matches a suffix of $P[1 . . L[i]]$ and such that the character preceding that suffix is not equal to $P[i-1] . L[i]$ is defined to be zero if there is no position satisfying the condition.<br>å¯¹äºæ¯ä¸ª $i$ï¼Œ$L[i]$ æ˜¯å°äº $m$ çš„æœ€å¤§ä½ç½®ï¼Œä½¿å¾—å­—ç¬¦ä¸² $P[i . . m]$ ä¸ $P[1 . . L[i]]$ çš„åç¼€åŒ¹é…ï¼Œå¹¶ä¸”è¯¥åç¼€å‰é¢çš„å­—ç¬¦ä¸ç­‰äº $P[i-1]$ã€‚å¦‚æœæ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„ä½ç½®ï¼Œåˆ™å®šä¹‰ $L[i]$ ä¸ºé›¶ã€‚</li>
<li>Let $H[i]$ denote the length of the largest suffix of $P[i . . m]$ that is also a prefix of $P$, if one exists. If none exists, let $H[i]$ be zero.<br>è®© $H[i]$ è¡¨ç¤º $P[i . . m]$ çš„æœ€é•¿åç¼€ï¼Œå¦‚æœå®ƒä¹Ÿæ˜¯ $P$ çš„å‰ç¼€ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„åç¼€ï¼Œåˆ™ä»¤ $H[i]$ ä¸ºé›¶ã€‚</li>
</ul>
<p>Both of these tables are constructible in $O(m)$ time and use $O(m)$ space. The alignment shift for index $i$ in $P$ is given by $m-L[i]$ or $m-H[i]$. $H$ should only be used if $L[i]$ is zero or a match has been found.<br>è¿™ä¸¤ä¸ªè¡¨æ ¼éƒ½å¯ä»¥åœ¨ $O(m)$ çš„æ—¶é—´å†…æ„å»ºï¼Œå¹¶ä¸”ä½¿ç”¨ $O(m)$ çš„ç©ºé—´ã€‚å¯¹äº $P$ ä¸­ç´¢å¼• $i$ çš„å¯¹é½åç§»ç”± $m-L[i]$ æˆ– $m-H[i]$ ç»™å‡ºã€‚åªæœ‰å½“ $L[i]$ ä¸ºé›¶æˆ–æ‰¾åˆ°åŒ¹é…æ—¶æ‰åº”è¯¥ä½¿ç”¨ $H$ã€‚</p>
<h2 id="Implementations"><a href="#Implementations" class="headerlink" title="Implementations"></a>Implementations</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Java"><br></code></pre></td></tr></table></figure>

<h2 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h2><ul>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_string-search_algorithm#Java_implementation">Boyer-Moore algorithm wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://cmps-people.ok.ubc.ca/ylucet/DS/BoyerMoore.html">Boyer-Moore String Search Visualisations</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cs.utexas.edu/~moore/best-ideas/string-searching/fstrpos-example.html#step7">A brilliant visualisation example</a></li>
</ul>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%F0%9F%93%9D%EF%B8%8F-%F0%9F%94%8B/">#ğŸ“ï¸/ğŸ”‹</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div><strong></strong></div>
      <div>http://raiyness.github.io/2024/08/25/Boyer-Moore/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>Ray</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2024å¹´8æœˆ25æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
                <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
                  <span class="hint--top hint--rounded" aria-label="NC - éå•†ä¸šæ€§ä½¿ç”¨">
                    <i class="iconfont icon-nc"></i>
                  </span>
                </a>
              
                <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
                  <span class="hint--top hint--rounded" aria-label="SA - ç›¸åŒæ–¹å¼å…±äº«">
                    <i class="iconfont icon-sa"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/08/25/Burrows%E2%80%93Wheeler%20Transform/" title="">
                        <span class="hidden-mobile"></span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="waline"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#waline', function() {
      Fluid.utils.createCssLink('/css/waline.min.css')
      Fluid.utils.createScript('https://lib.baomitu.com/waline/2.14.1/waline.min.js', function() {
        var options = Object.assign(
          {"serverURL":"https://blog-comment-api-ruddy.vercel.app","path":"window.location.pathname","meta":["nick","mail","link"],"requiredMeta":["nick"],"lang":"zh-CN","emoji":["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],"dark":"html[data-user-color-scheme=\"dark\"]","wordLimit":0,"pageSize":10,"visitor":true,"highlight":true,"placeholder":"Type something ..."},
          {
            el: '#waline',
            path: window.location.pathname
          }
        )
        Waline.init(options);
        Fluid.utils.waitElementVisible('#waline .vcontent', () => {
          var imgSelector = '#waline .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    
    
    
      <a id="scroll-bottom-button" aria-label="BOTTOM" href="#" role="button">
        <i class="iconfont icon-arrowdown" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
      
      <div class="statistics" style="font-size: 0.85rem">
  
   
  
         
      <span id="leancloud-site-pv-container" style="display: none">
        <i class="fa fa-bar-chart"></i>
        Visits 
        <span id="leancloud-site-pv"></span>
         
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        Visitors 
        <span id="leancloud-site-uv"></span>
         
      </span>
    
    

  
</div>

      
       <div style="font-size: 0.85rem"> <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="fa fa-code"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <i class="fa fa-code"></i> <a href="https://Raiyness.github.io" target="_self"><span><strong><em>Ray</strong></em></span></a> </div> <div style="font-size: 0.85rem"> <span>Copyright </span><i class="fa fa-copyright"></i><span> 2023. All Rights Reserved.</span> </div> 
      
      
    </div>
  
</div>

  </footer>

  <!-- Scripts -->
  

<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
